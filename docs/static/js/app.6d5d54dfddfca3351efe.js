webpackJsonp([1],{JQ2a:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("fZjL"),o=n.n(s),a={name:"Pie",props:["centerX","centerY","radius","segNum","index","angle","color"],data:function(){return{pieColor:void 0!==this.color?this.color:"magenta"}},computed:{arc:function(){return 2*Math.PI/this.segNum}},mounted:function(){},methods:{segment:function(t,e,n,i,s){var o={x:t+n*Math.cos(i),y:e+n*Math.sin(i)},a={x:t+n*Math.cos(s),y:e+n*Math.sin(s)};return["M",o.x,o.y,"A",n,n,0,0,1,a.x,a.y,"L",t,e,"L",o.x,o.y].join(" ")},changeSelection:function(t){this.$emit("changeSelection",t)}}},r={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("path",{staticClass:"pie",attrs:{d:t.segment(t.centerX,t.centerY,t.radius,t.angle+t.index*t.arc,t.angle+t.index*t.arc+t.arc),fill:t.pieColor,stroke:"white"},on:{click:function(e){t.changeSelection(t.index)}}})},staticRenderFns:[]};var c=n("VU/8")(a,r,!1,function(t){n("JQ2a")},"data-v-2f668f7d",null).exports,h=2*Math.PI,l=180/Math.PI,u={name:"Waffly",components:{Pie:c},props:["segNum","segments","stopTime"],data:function(){return{msg:"Waffly",centerX:250,centerY:250,radius:180,angle:0,time:0,timeout:0,finalVal:0,speed:Math.PI/120,run:!1}},mounted:function(){this.draw();for(var t=0;t<this.segNum;t++)this.segments[t].id=t,console.log(this.segments[t].name)},methods:{setTimer:function(){var t=this;this.run||(this.timeout=setInterval(function(){return t.draw()},1),this.run=!0)},draw:function(){this.time+=10,this.angle+=this.speed;for(var t=0;t<this.segNum;t++){var e=l*(t*(h/this.segNum)+h/(2*this.segNum)+this.angle);this.segments[t].rotation="rotate("+e+", "+this.centerX+", "+this.centerY+")"}var n=Math.floor((2*Math.PI-this.angle%(2*Math.PI))/(2*Math.PI/this.segNum));this.finalVal=n,this.time>=this.stopTime&&(clearTimeout(this.timeout),this.run=!1,this.time=0),this.$emit("result",this.finalVal)},changeSelection:function(t){this.$emit("changeSelection",t)}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wheel"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("svg",{attrs:{height:"520",width:"520"}},[n("circle",{attrs:{cx:this.centerX,cy:this.centerY,r:this.radius+35,fill:"purple"}}),t._v(" "),t._l(t.segNum,function(e){return n("Pie",{key:e-1,attrs:{centerX:t.centerX,centerY:t.centerY,radius:t.radius,segNum:t.segNum,index:e-1,angle:t.angle,color:t.segments[e-1].color,segments:t.segments},on:{changeSelection:t.changeSelection}})}),t._v(" "),t._l(t.segNum,function(e){return n("text",{attrs:{x:Math.cos(8*Math.PI/4)*(t.radius-30)+t.centerX,y:Math.sin(8*Math.PI/4)*(t.radius-30)+t.centerY,"font-size":"20",fill:"#343938","text-anchor":"middle","alignment-baseline":"middle",transform:t.segments[e-1].rotation}},[t._v(t._s(e))])}),t._v(" "),n("rect",{attrs:{x:this.centerX+this.radius-15,y:this.centerY-2.5,fill:"black",width:"50",height:"5","alignment-baseline":"middle"}}),t._v(" "),n("circle",{attrs:{cx:this.centerX,cy:this.centerY,r:"50",fill:"purple"}}),t._v(" "),n("text",{attrs:{x:t.centerX,y:t.centerY+t.radius+70,"font-size":"32","text-anchor":"middle","alignment-baseline":"middle"}},[t._v(t._s(t.segments[t.finalVal].name))])],2)])},staticRenderFns:[]};var d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"option-list"},[n("table",t._l(t.segNum,function(e){return n("tr",{class:{highlighted:t.highlight(e-1)}},[n("td",[n("button",{on:{click:function(n){t.removeOption(e-1)}}},[t._v("-")])]),t._v(" "),n("td",[t._v(t._s(e)+".")]),t._v(" "),n("td",{on:{click:function(n){t.changeText(e-1)}}},[-1==t.edit||-1!=t.edit&&t.edit!=e-1?n("div",[t._v("\n        "+t._s(t.segments[e-1].name)+"\n        ")]):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.segments[e-1].name,expression:"segments[i - 1]['name']"}],ref:"textBox",refInFor:!0,class:{highlighted:t.highlight(e-1)},attrs:{type:"text",hidden:!(-1!=t.edit&&t.edit==e-1)},domProps:{value:t.segments[e-1].name},on:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;t.newOptionVal(e-1)},input:function(n){n.target.composing||t.$set(t.segments[e-1],"name",n.target.value)}}})])])}))])},staticRenderFns:[]};var g={name:"App",components:{Wheel:n("VU/8")(u,m,!1,function(t){n("y7mv")},"data-v-fd054540",null).exports,OptionList:n("VU/8")({name:"OptionList",components:{},props:["segments","segNum","spinResult"],data:function(){return{edit:-1,editVal:""}},mounted:function(){},methods:{highlight:function(t){return this.spinResult==t},changeText:function(t){this.edit=t,this.setFocus(t)},newOptionVal:function(t){this.edit=-1,this.$emit("changeOption",t,this.segments[t].name),this.editVal=""},removeTextInput:function(){this.edit=-1},addOption:function(){var t=this.segNum-1;this.edit=t,this.setFocus(t)},removeOption:function(t){this.$emit("removeOption",t)},setFocus:function(t){this.$nextTick(function(){this.$refs.textBox[t].focus(),this.$refs.textBox[t].select()})}}},d,!1,function(t){n("fYOv")},"data-v-346cecc4",null).exports},data:function(){return{dataLoaded:!1,segNum:10,segments:{0:{rotation:"",color:"lavenderblush",id:"",name:""},1:{rotation:"",color:"lightcoral",id:"",name:""},2:{rotation:"",color:"lightgreen",id:"",name:""},3:{rotation:"",color:"lightseagreen",id:"",name:""},4:{rotation:"",color:"lightsteelblue",id:"",name:""},5:{rotation:"",color:"lavenderblush",id:"",name:""},6:{rotation:"",color:"lightcoral",id:"",name:""},7:{rotation:"",color:"lightgreen",id:"",name:""},8:{rotation:"",color:"lightseagreen",id:"",name:""},9:{rotation:"",color:"lightsteelblue",id:"",name:""}},result:9,colorList:["lavenderblush","lightcoral","lightgreen","lightseagreen","lightsteelblue"],dessertList:["Ice Cream","Cake","Brownie","Pie","Cookie","Fruit","Chocolate","Cupcake"],buttonInfo:"Decide on Dessert",buttonListId:0}},mounted:function(){this.init(),this.dataLoaded=!0},methods:{init:function(){this.segments[0].name="Italian",this.segments[1].name="Chinese",this.segments[2].name="Mexican",this.segments[3].name="American",this.segments[4].name="Korean",this.segments[5].name="Indian",this.segments[6].name="Mediterranean",this.segments[7].name="Japanese",this.segments[8].name="French",this.segments[9].name="Seafood"},spin:function(){this.$refs.wheel.setTimer()},spinResult:function(t){this.result=t},changeSelection:function(t){this.$refs.option.changeText(t)},changeOptionText:function(t,e){this.segments[t].name=e},removeInput:function(t){this.$refs.option.removeTextInput()},addOption:function(){this.segments[this.segNum]={rotation:"",color:this.colorList[this.segNum%this.colorList.length],id:"",name:""},this.segNum++,this.$refs.option.addOption(),this.updateWheel()},removeOption:function(t){for(var e=t;e<this.segNum-1;e++)this.segments[e]=this.segments[e+1];this.segNum--,this.$nextTick(function(){this.$refs.wheel.draw()})},changeList:function(){if(0==this.buttonListId){for(var t=0;t<this.dessertList.length;t++)this.segments[t].name=this.dessertList[t];this.segNum=this.dessertList.length,this.buttonInfo="Decide on Meal",this.buttonListId=1}else this.init(),this.segNum=o()(this.segments).length,this.buttonInfo="Decide on Dessert",this.buttonListId=0;this.updateWheel()},updateWheel:function(){this.$nextTick(function(){this.$refs.wheel.draw()})}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("table",[n("tr",[n("td",{staticClass:"list",staticStyle:{"padding-top":"180px"},on:{click:t.removeInput}},[n("button",{staticClass:"button button-spin",on:{click:t.spin}},[t._v("Spin!")]),t._v(" "),n("button",{staticClass:"button button-list",on:{click:t.changeList}},[t._v(t._s(t.buttonInfo))]),t._v(" "),n("button",{staticClass:"button button-add",on:{click:t.addOption}},[t._v("Add Option")])]),t._v(" "),n("td",{staticClass:"list"},[n("Wheel",{ref:"wheel",attrs:{segNum:t.segNum,segments:t.segments,stopTime:7e3*Math.random()+3e3},on:{result:t.spinResult,changeSelection:t.changeSelection}})],1),t._v(" "),n("td",[n("OptionList",{ref:"option",staticClass:"option-list",attrs:{segments:t.segments,segNum:t.segNum,spinResult:t.result,id:"optionList"},on:{changeOption:t.changeOptionText,removeOption:t.removeOption}})],1)])])])},staticRenderFns:[]};var p=n("VU/8")(g,f,!1,function(t){n("jqcX")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:p},template:"<App/>"})},fYOv:function(t,e){},jqcX:function(t,e){},y7mv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6d5d54dfddfca3351efe.js.map